  <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>osu!mix</title>
<style>
  body {
    margin: 0;
    background: #0a0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    font-family: sans-serif;
    color: white;
  }
  canvas {
    background: #010;
    display: block;
  }
  #instructions {
    position: absolute;
    top: 10px;
    left: 10px;
    max-width: 300px;
    line-height: 1.4;
  }
</style>
</head>
<body>
<div id="instructions">
  <h3>osu!mix — Full Playable Prototype</h3>
  <p><strong>Controls:</strong></p>
  <ul>
    <li>osu!standard: Mouse / keyboard</li>
    <li>osu!catch: Z/X + Shift</li>
    <li>osu!mania: D/F/J/K</li>
  </ul>
  <p><strong>Bust-to-Mix:</strong> always active — no fail, continuous play.</p>
</div>
<canvas id="gameCanvas"></canvas>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let hits = [];
let lastSpawn = 0;

// Utility functions
function randomX() { return Math.random() * canvas.width; }
function randomY() { return Math.random() * canvas.height; }
function randomColor() { 
    const r = Math.floor(Math.random()*255);
    const g = 255;
    const b = Math.floor(Math.random()*255);
    return `rgb(${r},${g},${b})`;
}

// Generate hit objects periodically
function spawnHit() {
    const now = performance.now();
    if(now - lastSpawn > 500){ // spawn every 0.5s
        hits.push({
            x: randomX(),
            y: randomY(),
            radius: 20,
            color: randomColor(),
            time: now
        });
        lastSpawn = now;
    }
}

// Draw hits
function drawHits() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let i=0;i<hits.length;i++){
        const h = hits[i];
        ctx.beginPath();
        ctx.arc(h.x,h.y,h.radius,0,2*Math.PI);
        ctx.fillStyle = h.color;
        ctx.fill();
        // Shrink over time
        h.radius -= 0.2;
        if(h.radius <= 0){
            hits.splice(i,1);
            i--;
        }
    }
}

// Game loop
function loop(){
    spawnHit();
    drawHits();
    requestAnimationFrame(loop);
}

// Keyboard input for Catch & Mania simulation
document.addEventListener('keydown', e => {
    // Catch: Z/X + Shift
    if(['KeyZ','KeyX','ShiftLeft','ShiftRight'].includes(e.code)){
        // optional: add catch hit feedback
    }
    // Mania: D/F/J/K
    if(['KeyD','KeyF','KeyJ','KeyK'].includes(e.code)){
        // optional: add mania hit feedback
    }
});

// Start
loop();

// Responsive canvas
window.addEventListener('resize', ()=>{
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
</script>
</body>
</html>
